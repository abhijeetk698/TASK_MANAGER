<%- include("./partials/header")%>
<div class="container">
<h1>HOME</h1>

<a href="/new"><h4>NEW</h4></a>
<div class="row">
    <div id="filterBlock" class="col-12 col-sm-3">
        <form action="/home" method="GET" id="filterForm">
            <div><h3>Filter By:- </h3></div>
            <div>
                <div>labelling : </div>
                <div>
                    <input type="radio" id="asc" name="order" value="asc">
                    <label for="asc">Ascending</label>
                    <input type="radio" id="dsc" name="order" value="dsc" checked>
                    <label for="dsc">Descending</label>
                </div>
            </div>
            <div>
                <label for="f_title"> Title </label>
                <input id="f_title" type="text" name="title">
            </div>
            <div>
                <div> Task Type : </div>
                <select name="taskType" id="f_taskType"> 
                    <option value="NULL">--Please choose an option--</option>
                    <option value="Personal">Personal</option>
                    <option value="Work">Work</option>
                    <option value="Shopping">Shopping</option>
                    <option value="Playing">Playing</option>
                    <option value="others">others</option>
                </select>
            </div>
            <div>
                <div> status : </div>
                <select name="status" id="f_status"> 
                    <option value="NULL">--Please choose an option--</option>
                    <option value="Completed">completed</option>
                    <option value="In Progress">In-progress</option>
                    <option value="New">New</option>
                </select>
            </div>
            <button class="btn btn-success" id="filterBtn"> submit</button>
        </form>
    </div>

    <div class="col-sm-1"></div>

    <div class="col-12 col-sm-8">
    <% for(var i=task.length-1;i>=0;i--){ %>
        <div class="tasks row border">
            <div class="col-12 col-sm-9">
                <div>
                    <span class="title h2"><%=task[i].title%></span>
                </div>
                <div>
                    <div>Body :</div> 
                    <div style="white-space:pre-line;">
                        <%=task[i].body%>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-3">
                <div>
                    <div class="alert alert-primary"><strong><span class="taskType"><%=task[i].taskType %></span></strong></div>
                </div>

                <div>
                    <div class="alert alert-success"><strong> <span class="status"><%=task[i].status %></span></strong></div>
                </div>

                <div style="font-size: small;">
                    Date : <%=task[i].created%>
                </div>
                <div class="row">
                    <div class="col-12">
                        <a href='/home/<%=task[i]._id%>/edit' class="btn btn-success">EDIT</a>
                    </div>
                    <div class="col-12">
                        <form action="/home/<%=task[i]._id%>/delete?_method=DELETE" method="POST" style="display:inline">
                            <button type="submit" class="btn btn-danger">DELETE</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    <%}%>
    </div>
</div>
</div>
<script src="../home.js">
</script>
<%- include("./partials/footer")%>